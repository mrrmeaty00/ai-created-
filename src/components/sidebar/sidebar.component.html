<div class="h-full bg-black/20 rounded-lg p-3 backdrop-blur-lg border border-white/10 flex flex-col space-y-2 overflow-y-auto">
  <!-- Quick Access -->
  <div class="space-y-1">
    <h3 class="text-xs text-gray-400 px-2 font-semibold">QUICK ACCESS</h3>
    @for(item of quickAccess(); track item.name) {
      <a href="#" (click)="$event.preventDefault(); selectPath(item.path)" [class.bg-white/10]="selectedItem() === item.name && !isCloudView() && !isVaultView()" [class.text-white]="selectedItem() === item.name && !isCloudView() && !isVaultView()" class="flex items-center space-x-3 px-2 py-1.5 rounded-md hover:bg-white/10 text-gray-300 transition-colors">
        <svg *ngIf="item.icon === 'home'" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" /></svg>
        <svg *ngIf="item.icon === 'clock'" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd" /></svg>
        <svg *ngIf="item.icon === 'desktop'" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3 5a2 2 0 012-2h10a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2V5zm2 0h10v8H5V5z" clip-rule="evenodd" /><path d="M15 15H5a1 1 0 110-2h10a1 1 0 110 2z" /></svg>
        <svg *ngIf="item.icon === 'document'" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z" /></svg>
        <svg *ngIf="item.icon === 'download'" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" /></svg>
        <svg *ngIf="item.icon === 'picture'" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd" /></svg>
        <span class="text-sm">{{ item.name }}</span>
      </a>
    }
  </div>

  <!-- Vault -->
  <div class="space-y-1">
     <a href="#" (click)="$event.preventDefault(); vaultClick.emit()" class="flex items-center justify-between space-x-3 px-2 py-1.5 rounded-md hover:bg-white/10 text-gray-300 transition-colors" [class.bg-white/10]="isVaultView()">
        <div class="flex items-center space-x-3">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd" />
            </svg>
            <span class="text-sm">Vault</span>
        </div>
        @if (isVaultLocked()) {
             <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-400" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd" />
            </svg>
        } @else {
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-green-400" viewBox="0 0 20 20" fill="currentColor">
                <path d="M10 2a5 5 0 00-5 5v2a2 2 0 00-2 2v5a2 2 0 002 2h10a2 2 0 002-2v-5a2 2 0 00-2-2V7a5 5 0 00-5-5zm0 8a1 1 0 011-1h.01a1 1 0 110 2H11a1 1 0 01-1-1z" />
            </svg>
        }
     </a>
  </div>

  <!-- This PC -->
  <div class="space-y-1">
    <h3 class="text-xs text-gray-400 px-2 font-semibold flex items-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" transform="rotate(90 10 10)"/></svg>THIS PC</h3>
    @for(drive of drives(); track drive.name) {
    <div class="p-2 rounded-md hover:bg-white/5 cursor-pointer">
      <div class="flex items-center space-x-3 text-gray-300">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M3 3a1 1 0 00-1 1v12a1 1 0 001 1h14a1 1 0 001-1V4a1 1 0 00-1-1H3zm3 2a1 1 0 011-1h8a1 1 0 011 1v2a1 1 0 01-1 1H7a1 1 0 01-1-1V5z" /></svg>
        <span class="text-sm flex-grow">{{ drive.name }}</span>
      </div>
      <div class="mt-2 pl-1">
        <div class="w-full bg-black/30 rounded-full h-1.5">
          <div class="bg-gradient-to-r from-cyan-500 to-blue-500 h-1.5 rounded-full" [style.width.%]="getDriveUsagePercentage(drive)"></div>
        </div>
        <p class="text-xs text-gray-400 mt-1">{{ drive.used }} GB free of {{ drive.total }} GB</p>
      </div>
    </div>
    }
  </div>
  
  <!-- Cloud Integrations -->
  <div class="space-y-1">
    <h3 class="text-xs text-gray-400 px-2 font-semibold flex items-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" transform="rotate(90 10 10)"/></svg>CLOUD INTEGRATIONS</h3>
    @for(provider of cloudProviders(); track provider.name) {
      <a href="#" (click)="$event.preventDefault(); onCloudProviderClick(provider)" class="flex items-center justify-between space-x-3 px-2 py-1.5 rounded-md hover:bg-white/10 text-gray-300 transition-colors" [class.bg-white/10]="isCloudView() && selectedItem() === provider.name">
        <div class="flex items-center space-x-3">
          <svg *ngIf="provider.icon === 'google-drive'" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor">
              <path d="M0 0h24v24H0z" fill="none"/><path d="M7.71 3.5L1.15 15l3.53 6 6.55-11.5zM15.32 21l7.53-11.5-3.53-6-6.55 11.5zM8.6 3.5h7.8l-1.48 2.55-2.42.01-2.42-.01L8.6 3.5z"/>
          </svg>
          <svg *ngIf="provider.icon === 'cloud'" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20">
            <defs>
              <linearGradient id="cloudGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" stop-color="#2563EB" />
                  <stop offset="100%" stop-color="#3B82F6" />
              </linearGradient>
            </defs>
            <path fill="url(#cloudGrad)" d="M5.5 16a3.5 3.5 0 01-.369-6.98 4 4 0 117.753-1.977A4.5 4.5 0 1113.5 16h-8z" />
          </svg>
          <span class="text-sm">{{ provider.name }}</span>
        </div>
        @if(provider.loggedIn) {
           <div class="w-2 h-2 bg-green-500 rounded-full" title="Logged In"></div>
        }
      </a>
    }
  </div>

  <!-- AI Providers -->
  <div class="space-y-1">
    <h3 class="text-xs text-gray-400 px-2 font-semibold flex items-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" transform="rotate(90 10 10)"/></svg>AI PROVIDERS</h3>
    @for(provider of aiProviders(); track provider.name) {
      <a href="#" (click)="$event.preventDefault(); onAiProviderClick(provider)" class="flex items-center justify-between space-x-3 px-2 py-1.5 rounded-md hover:bg-white/10 text-gray-300 transition-colors" [class.bg-purple-500/20]="activeAiProvider()?.name === provider.name">
         <div class="flex items-center space-x-3">
            <svg *ngIf="provider.icon === 'gemini'" class="h-5 w-5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <defs>
                <linearGradient id="gemini-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" stop-color="#4285F4"/>
                  <stop offset="50%" stop-color="#9B59B6"/>
                  <stop offset="100%" stop-color="#FBBC05"/>
                </linearGradient>
              </defs>
              <path fill="url(#gemini-gradient)" d="M12 2l2.36 7.15H22l-6 4.35 2.36 7.15L12 16.3l-6.36 4.35L8 13.5l-6-4.35h7.64L12 2z"/>
            </svg>
            <svg *ngIf="provider.icon === 'openai'" class="h-5 w-5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <radialGradient id="openai-gradient" cx="50%" cy="50%" r="50%">
                        <stop offset="0%" stop-color="#5E4AE3"/>
                        <stop offset="16.67%" stop-color="#2296F3"/>
                        <stop offset="33.33%" stop-color="#4CAF50"/>
                        <stop offset="50%" stop-color="#FFEB3B"/>
                        <stop offset="66.67%" stop-color="#FF9800"/>
                        <stop offset="83.33%" stop-color="#F44336"/>
                        <stop offset="100%" stop-color="#5E4AE3"/>
                    </radialGradient>
                </defs>
                <path fill="url(#openai-gradient)" d="M12 2a10 10 0 100 20 10 10 0 000-20zm0 18a8 8 0 110-16 8 8 0 010 16z"/>
            </svg>
            <svg *ngIf="provider.icon === 'anthropic'" class="h-5 w-5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="anthropicGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#D97706" />
                        <stop offset="100%" stop-color="#FEC867" />
                    </linearGradient>
                </defs>
                <path fill="url(#anthropicGrad)" d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 15a5 5 0 110-10 5 5 0 010 10z"/>
            </svg>
            <span class="text-sm">{{ provider.name }}</span>
         </div>
         @if(provider.loggedIn) {
           <div class="w-2 h-2 bg-green-500 rounded-full" title="Logged In"></div>
        }
      </a>
    }
  </div>

  <!-- Local Engines -->
  <div class="space-y-1">
    <h3 class="text-xs text-gray-400 px-2 font-semibold flex items-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" transform="rotate(90 10 10)"/></svg>LOCAL ENGINES</h3>
    @for(engine of localEngines(); track engine.name) {
      <a href="#" (click)="$event.preventDefault()" class="flex items-center space-x-3 px-2 py-1.5 rounded-md hover:bg-white/10 text-gray-300 transition-colors">
        <svg *ngIf="engine.icon === 'cpu-chip'" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M2 5a3 3 0 013-3h10a3 3 0 013 3v10a3 3 0 01-3 3H5a3 3 0 01-3-3V5zm3-1a1 1 0 00-1 1v2h12V5a1 1 0 00-1-1H5zM4 9v6a1 1 0 001 1h10a1 1 0 001-1V9H4zm2 2a1 1 0 011-1h4a1 1 0 110 2H7a1 1 0 01-1-1z" clip-rule="evenodd" />
        </svg>
        <span class="text-sm">{{ engine.name }}</span>
      </a>
    }
  </div>

  <div class="flex-grow"></div>

  <!-- Local Engine Status -->
  <div class="flex-shrink-0 bg-cyan-800/30 rounded-lg p-3 text-center border border-cyan-500/30">
    <div class="flex items-center justify-center space-x-2">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-cyan-400 animate-pulse" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M11.3 1.046A1 1 0 0112 2v5.25a1 1 0 01-2 0V4.673L10 6.015V13a1 1 0 11-2 0V6.015L6.673 4.673v2.577a1 1 0 11-2 0V2a1 1 0 01.7-1.046l4-1.5a1 1 0 01.6 0l4 1.5z" clip-rule="evenodd" /><path d="M4 9a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1z" /></svg>
      <div>
        <h4 class="font-semibold text-sm">LOCAL ENGINE</h4>
        <p class="text-xs text-cyan-300">Processing ready</p>
      </div>
    </div>
  </div>
</div>